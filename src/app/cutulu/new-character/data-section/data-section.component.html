<form [formGroup]="newCharacterDataForm" (submit)="saveDataCharacters()">
    <div class="mb-3">
        <label for="characterName" class="form-label" >Nombre</label>
        <div class="box">
            <div class="box-inner">
                <input type="text" class="form-control" id="characterName" formControlName="characterName">
            </div>
        </div>
        <div class="text-danger" *ngIf="hasErrors('characterName', 'required')">
            Nombre obligatorio
        </div>
    </div>
    <div class="mb-3">
        <label for="characterAge" class="form-label" [matMenuTriggerFor]="tooltipMenu">Edad <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24" style="fill: white; fill: white; position: relative; top: -1px; left: 6px;"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-.001 5.75c.69 0 1.251.56 1.251 1.25s-.561 1.25-1.251 1.25-1.249-.56-1.249-1.25.559-1.25 1.249-1.25zm2.001 12.25h-4v-1c.484-.179 1-.201 1-.735v-4.467c0-.534-.516-.618-1-.797v-1h3v6.265c0 .535.517.558 1 .735v.999z"/></svg></label>
        <div class="box">
            <div class="box-inner">
                <input type="text" class="form-control" id="characterAge" formControlName="characterAge">
            </div>
        </div>
        <div class="text-danger" *ngIf="hasErrors('characterAge', 'required')">
            Edad obligatoria
        </div>
    </div>
    <div class="mb-3">
        <label for="characterOccupation" class="form-label">Profesión</label>
        <div class="box">
            <div class="box-inner">
                <select id="characterOccupation" formControlName="characterOccupation">
                    @for (item of occupationList; track $index) {
                        <option value={{item}}>{{item}}</option>
                    }
                </select>
            </div>
        </div>
        <div class="text-danger" *ngIf="hasErrors('characterOccupation', 'required')">
            Profesión obligatoria
        </div>
    </div>
    <div class="mb-3">
        <label for="characterSex" class="form-label">Sexo</label>
        <div class="box">
            <div class="box-inner">
                <input type="text" class="form-control" id="characterSex" formControlName="characterSex">
            </div>
        </div>
        <div class="text-danger" *ngIf="hasErrors('characterSex', 'required')">
            Sexo obligatorio
        </div>
    </div>
    <div class="mb-3">
        <label for="characterResidence" class="form-label">Residencia</label>
        <div class="box">
            <div class="box-inner">
                <input type="text" class="form-control" id="characterResidence" formControlName="characterResidence">
            </div>
        </div>
        <div class="text-danger" *ngIf="hasErrors('characterResidence', 'required')">
            Lugar de residencia obligatorio
        </div>
    </div>
    <div class="mb-3">
        <label for="characterBirthplace" class="form-label">Lugar de nacimiendo</label>
        <div class="box">
            <div class="box-inner">
                <input type="text" class="form-control" id="characterBirthplace" formControlName="characterBirthplace">
            </div>
        </div>
        <div class="text-danger" *ngIf="hasErrors('characterBirthplace', 'required')">
            Lugar de nacimiento obligatorio
        </div>
    </div>
    @if (!newCharacterDataForm.invalid && newCharacterDataForm.touched) {
        <button type="submit">Siguiente</button>
    }
</form>

<mat-menu #tooltipMenu="matMenu" class="customTooltip">
    <p>Según la edad del investigador podrían cambiar sus estadísticas finales.</p>
    <p>Si es muy joven (15-19) tiene menos fuerza o tamaño y educación pero más suerte.</p>
    <p>Si es un adulto joven (20-39) se mejora la educación.</p>
    <p>A partir de ahí cuanto más mayor tiene más educacion pero menos fuerza, constitución o destreza y apariencia.</p>
</mat-menu>